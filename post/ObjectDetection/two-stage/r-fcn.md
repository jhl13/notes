## R-FCN: Object Detection via Region-based Fully Convolutional Networks
阅读笔记 by **luo13**  
2020-3-22  

这篇文章说明了目标检测的两个问题  
1、分类的网络的平移不变性与监测中需要对位置敏感的特性是相违背的。  
2、二阶段检测慢的原因是因为提取RoI区域之后的计算是不共享的。（参数贡献，计算不共享）  

**网络结构图**  
![网络结构](../../../img/r-fcn/网络结构.png)  
将faster rcnn在RoI pooling之后的卷积操作转移到了RoI pooling之前，实现了共享卷积计算。  

**子网络**  
![子网](../../../img/r-fcn/子网.png)  
子网络主要由$K^2(C+1)$类得分图、$4K^2$回归得分图以及1个RPN图网络组成，根据RPN网络返回的RoI区域，将该区域分成$K*K$的小块，在每个类对应的第K个得分图做平均池化，最后得到$K*K$的类别得分图，平均池化之后得到该类总得分，最后通过总的得分判断属于每一类的概率。

回归也是一样，对$4K^2$回归得分图在相应位置做平均池化得到$4K^2$的向量，做平均池化之后得到4维向量作为回归结果。  

**投票**  
![投票](../../../img/r-fcn/投票.png)  
上下左右的概率是作者自己圆的，其实并没有显式规定。  

小结：共享计算能大幅度提升速度。  
